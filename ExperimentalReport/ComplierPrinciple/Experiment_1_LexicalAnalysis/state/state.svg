<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="1144.3038px" preserveAspectRatio="none" style="width:795px;height:1144px;" version="1.1" viewBox="0 0 795 1144" width="795.66px" zoomAndPan="magnify"><defs><filter height="300%" id="f692yl091srn0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.4466546112115732"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="2.8933092224231465" dy="2.8933092224231465" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><ellipse cx="269.0778" cy="26.0398" fill="#000000" filter="url(#f692yl091srn0)" rx="7.2333" ry="7.2333" style="stroke: none; stroke-width: 0.7233273056057866;"></ellipse><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="188.0651" x="301.6275" y="5.7866"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="301.6275" x2="489.6926" y1="26.85" y2="26.85"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="21.6998" x="384.8101" y="21.0083">main</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="173.5986" x="305.2441" y="40.4138">程序常量、词汇表、助记符等变量的声明定义</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="75.226" x="358.047" y="1096.5642"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="358.047" x2="433.2731" y1="1117.6276" y2="1117.6276"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="17.3599" x="386.9801" y="1111.7859">end</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="60.7595" x="361.6637" y="1131.1914">输出二元组结果</text><ellipse cx="465.8228" cy="1116.8174" fill="none" filter="url(#f692yl091srn0)" rx="7.2333" ry="7.2333" style="stroke: #000000; stroke-width: 0.7233273056057866;"></ellipse><ellipse cx="466.1844" cy="1117.179" fill="#000000" rx="4.34" ry="4.34" style="stroke: none; stroke-width: 0.7233273056057866;"></ellipse><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="301.7144" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="560.5787" x="115.3707" y="89.6926"></rect><rect fill="#FFFFFF" height="276.311" rx="9.0416" ry="9.0416" style="stroke: #FFFFFF; stroke-width: 0.7233273056057866;" width="556.2387" x="117.5407" y="112.9259"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="115.3707" x2="675.9494" y1="110.756" y2="110.756"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="52.0796" x="369.6203" y="104.9142">initialization</text><ellipse cx="130.5606" cy="146.199" fill="#000000" filter="url(#f692yl091srn0)" rx="7.2333" ry="7.2333" style="stroke: none; stroke-width: 0.7233273056057866;"></ellipse><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="52.0054" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="177.2152" x="151.1754" y="120.1592"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="151.1754" x2="328.3906" y1="141.2226" y2="141.2226"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="22.4231" x="228.5714" y="135.3809">clear</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="162.7486" x="154.792" y="154.7864">转换映射表、strToken、strTokenLen等的</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="43.3996" x="154.792" y="166.6408">清空初始化</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="179.3852" x="150.0904" y="209.8518"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="150.0904" x2="329.4756" y1="230.9152" y2="230.9152"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="64.3761" x="207.5949" y="225.0735">reserveWords</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="164.9186" x="153.7071" y="244.479">构造单词表中预定义单词于编码的映射关系</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="63.8598" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="192.4051" x="342.4955" y="198.2786"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="342.4955" x2="534.9005" y1="219.3419" y2="219.3419"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="49.1863" x="414.1049" y="213.5002">stateTrans</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="76.6727" x="346.1121" y="232.9057">+ 构造状态转化矩阵</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="112.8391" x="346.1121" y="244.7601">+ -1 表示未定义状态，即出错</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="177.9385" x="346.1121" y="256.6145">+ 根据状态转换图的定义来构造 stateTrans[i, j]</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="52.0054" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="197.4684" x="339.9638" y="287.9712"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="339.9638" x2="537.4322" y1="309.0345" y2="309.0345"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="75.9494" x="400.7233" y="303.1928">isAcceptingState</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="183.0018" x="343.5805" y="322.5983">确定终态，根据定义确定每一个可能的字符ch的</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="138.1555" x="345.7505" y="334.4527">isAcceptingState[ch]的值：0，1，2</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="101.2658" x="550.8137" y="293.7578"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="550.8137" x2="652.0796" y1="314.8211" y2="314.8211"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="16.6365" x="593.1284" y="308.9794">ans</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="86.7993" x="554.4304" y="328.3849">清空存放二元组的向量</text><ellipse cx="601.4467" cy="373.3238" fill="none" filter="url(#f692yl091srn0)" rx="7.2333" ry="7.2333" style="stroke: #000000; stroke-width: 0.7233273056057866;"></ellipse><ellipse cx="601.8083" cy="373.6854" fill="#000000" rx="4.34" ry="4.34" style="stroke: none; stroke-width: 0.7233273056057866;"></ellipse><!--MD5=[b221365bc07b117e89dde7ac6436b626]
link *start*initialization to clear--><path d="M137.8136,146.199 C141.0106,146.199 144.2075,146.199 147.4044,146.199 " fill="none" id="*start*initialization->clear" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="151.1573,146.199,144.6473,143.3057,147.5406,146.199,144.6473,149.0923,151.1573,146.199" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[cdf6b89fe53aaca174f6dd651dbdc39c]
link clear to reserveWords--><path d="M239.783,172.3357 C239.783,183.041 239.783,195.4221 239.783,205.9089 " fill="none" id="clear->reserveWords" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="239.783,209.6804,242.6763,203.1704,239.783,206.0637,236.8897,203.1704,239.783,209.6804" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[9b967b7e97f6a4c434bd40abb0bbcbd3]
link reserveWords to stateTrans--><path d="M329.5277,230.105 C332.5266,230.105 335.5248,230.105 338.523,230.105 " fill="none" id="reserveWords->stateTrans" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="342.3212,230.105,335.8112,227.2117,338.7045,230.105,335.8112,232.9983,342.3212,230.105" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[1e33a8be6fbf8cc878c24698c1842bc5]
link stateTrans to isAcceptingState--><path d="M438.698,262.003 C438.698,269.3042 438.698,277.054 438.698,284.2569 " fill="none" id="stateTrans->isAcceptingState" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="438.698,287.969,441.5913,281.459,438.698,284.3523,435.8047,281.459,438.698,287.969" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[bf69fd478aa14be21297003a590805bc]
link isAcceptingState to ans--><path d="M537.5552,314.0109 C540.7241,314.0109 543.8929,314.0109 547.0626,314.0109 " fill="none" id="isAcceptingState->ans" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="550.7826,314.0109,544.2727,311.1176,547.166,314.0109,544.2727,316.9042,550.7826,314.0109" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[5f44227b512b8764331ac5c40093aa36]
link ans to *end*initialization--><path d="M601.4467,334.3251 C601.4467,343.7066 601.4467,354.556 601.4467,362.3028 " fill="none" id="ans->*end*initialization" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="601.4467,366.0469,604.34,359.5369,601.4467,362.4302,598.5533,359.5369,601.4467,366.0469" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="618.5317" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="782.6401" x="4.34" y="434.7197"></rect><rect fill="#FFFFFF" height="593.1284" rx="9.0416" ry="9.0416" style="stroke: #FFFFFF; stroke-width: 0.7233273056057866;" width="778.3002" x="6.5099" y="457.9531"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="4.34" x2="786.9801" y1="455.7831" y2="455.7831"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="20.9765" x="385.1718" y="449.9414">work</text><ellipse cx="280.651" cy="485.4395" fill="#000000" filter="url(#f692yl091srn0)" rx="7.2333" ry="7.2333" style="stroke: none; stroke-width: 0.7233273056057866;"></ellipse><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="173.5986" x="300.9042" y="465.1863"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="300.9042" x2="474.5027" y1="486.2497" y2="486.2497"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="13.0199" x="381.1935" y="480.408">init</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="159.132" x="304.5208" y="499.8135">初始化curState为0，读入一个非空白字符</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="510.3138" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="750.8137" x="12.2966" y="531.7325"></rect><rect fill="#FFFFFF" height="469.4394" rx="9.0416" ry="9.0416" style="stroke: #FFFFFF; stroke-width: 0.7233273056057866;" width="746.4738" x="14.4665" y="570.4368"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="12.2966" x2="763.1103" y1="568.2668" y2="568.2668"></line><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="12.2966" x2="763.1103" y1="552.7958" y2="552.7958"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="22.4231" x="376.4919" y="546.9541">while</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="147.5588" x="15.9132" y="562.743">当 stateTrans[curState][ch]定义存在时</text><ellipse cx="320.0723" cy="597.9233" fill="#000000" filter="url(#f692yl091srn0)" rx="7.2333" ry="7.2333" style="stroke: none; stroke-width: 0.7233273056057866;"></ellipse><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="109.9458" x="340.3255" y="577.6701"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="340.3255" x2="450.2712" y1="598.7335" y2="598.7335"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="31.1031" x="379.7468" y="592.8918">fileEnd</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="95.4792" x="343.9421" y="612.2973">判断是否为处理到文件末</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="52.0054" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="162.0253" x="314.2857" y="644.2162"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="314.2857" x2="476.311" y1="665.2796" y2="665.2796"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="38.3363" x="376.1302" y="659.4379">curState</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="147.5588" x="317.9024" y="678.8434">根据当前状态和读入字符进行状态转移</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="137.4322" x="317.9024" y="690.6978">curState = stateTrans[curState][ch];</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="109.1483" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="209.0416" x="20.2532" y="822.1547"></rect><rect fill="#FFFFFF" height="56.4195" rx="9.0416" ry="9.0416" style="stroke: #FFFFFF; stroke-width: 0.7233273056057866;" width="204.7016" x="22.4231" y="872.7135"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="20.2532" x2="229.2948" y1="870.5435" y2="870.5435"></line><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="20.2532" x2="229.2948" y1="843.2181" y2="843.2181"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="81.736" x="83.906" y="837.3764">isAcceptingState0</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="156.962" x="23.8698" y="853.1653">非终态，将ch中字符拼接到strToken中，</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="86.7993" x="23.8698" y="865.0196">继续读入字符分析过程</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="84.6293" x="28.2098" y="879.9467"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="28.2098" x2="112.8391" y1="901.0101" y2="901.0101"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="30.3797" x="55.3345" y="895.1684">concat</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="70.1627" x="31.8264" y="914.5739">拼接ch到strToken</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="75.226" x="126.2206" y="879.9467"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="126.2206" x2="201.4467" y1="901.0101" y2="901.0101"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="34.7197" x="146.4738" y="895.1684">getchar</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="60.7595" x="129.8373" y="914.5739">读入下一个字符</text><!--MD5=[5fa92c164addacaf847120f484f502a4]
link concat to getchar--><path d="M112.9873,900.1999 C116.128,900.1999 119.2687,900.1999 122.4094,900.1999 " fill="none" id="concat->getchar" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="126.0962,900.1999,119.5863,897.3066,122.4796,900.1999,119.5863,903.0932,126.0962,900.1999" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="242.2405" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="305.2441" x="242.6763" y="755.6086"></rect><rect fill="#FFFFFF" height="189.5118" rx="9.0416" ry="9.0416" style="stroke: #FFFFFF; stroke-width: 0.7233273056057866;" width="300.9042" x="244.8463" y="806.1674"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="242.6763" x2="547.9204" y1="803.9974" y2="803.9974"></line><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="242.6763" x2="547.9204" y1="776.672" y2="776.672"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="81.736" x="354.4304" y="770.8303">isAcceptingState1</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="69.4394" x="246.2929" y="786.6192">识别到一个单词，</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="138.8788" x="246.2929" y="798.4735">并且当前读入字符也是单词的一部分</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="50.6329" x="250.6329" y="813.4006"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="250.6329" x2="301.2658" y1="834.464" y2="834.464"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="36.1664" x="257.8662" y="828.6223">concat2</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="34.7197" x="254.2495" y="848.0278">拼接字符</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="75.226" x="314.2857" y="813.4006"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="314.2857" x2="389.5118" y1="834.464" y2="834.464"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="45.5696" x="329.1139" y="828.6223">pushAns1</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="60.7595" x="317.9024" y="848.0278">查表得到二元组</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="78.8427" x="312.4774" y="879.9467"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="312.4774" x2="391.3201" y1="901.0101" y2="901.0101"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="64.3761" x="319.7107" y="895.1684">clearStrToken</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="52.0796" x="316.094" y="914.5739">清空strToken</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="92.5859" x="404.7016" y="879.9467"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="404.7016" x2="497.2875" y1="901.0101" y2="901.0101"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="28.2098" x="436.8897" y="895.1684">getBC</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="78.1193" x="408.3183" y="914.5739">得到下一个非空字符</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="138.8788" x="381.5552" y="946.4929"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="381.5552" x2="520.434" y1="967.5562" y2="967.5562"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="44.123" x="428.9331" y="961.7145">curState1</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="124.4123" x="385.1718" y="981.12">curState置0，重新开始词法分析</text><!--MD5=[d43dd00568fdde766910cfb8be1719a3]
link concat2 to pushAns1--><path d="M301.4636,833.6538 C304.465,833.6538 307.4663,833.6538 310.4677,833.6538 " fill="none" id="concat2->pushAns1" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="314.2694,833.6538,307.7594,830.7605,310.6527,833.6538,307.7594,836.5471,314.2694,833.6538" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[eddd0bb455c1a022afa907219e6aeb9a]
link pushAns1 to clearStrToken--><path d="M351.8987,853.9091 C351.8987,860.8617 351.8987,868.7634 351.8987,876.0111 " fill="none" id="pushAns1->clearStrToken" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="351.8987,879.7334,354.792,873.2234,351.8987,876.1167,349.0054,873.2234,351.8987,879.7334" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[8df1515907971c8505a4f127b86570eb]
link clearStrToken to getBC--><path d="M391.3823,900.1999 C394.562,900.1999 397.7425,900.1999 400.9222,900.1999 " fill="none" id="clearStrToken->getBC" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="404.6553,900.1999,398.1454,897.3066,401.0387,900.1999,398.1454,903.0932,404.6553,900.1999" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[55c3d0f75979ced202d45821b5814dca]
link getBC to curState1--><path d="M450.9946,920.4552 C450.9946,927.4079 450.9946,935.3092 450.9946,942.5572 " fill="none" id="getBC->curState1" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="450.9946,946.2795,453.8879,939.7695,450.9946,942.6628,448.1013,939.7695,450.9946,946.2795" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="308.7866" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="174.3219" x="561.302" y="722.3356"></rect><rect fill="#FFFFFF" height="256.0579" rx="9.0416" ry="9.0416" style="stroke: #FFFFFF; stroke-width: 0.7233273056057866;" width="169.9819" x="563.472" y="772.8943"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="561.302" x2="735.6239" y1="770.7243" y2="770.7243"></line><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="561.302" x2="735.6239" y1="743.3989" y2="743.3989"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="81.736" x="607.5949" y="737.5572">isAcceptingState2</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="104.1591" x="564.9186" y="753.3461">识别到一个单词，并且当前</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="112.8391" x="564.9186" y="765.2005">读入字符不是单词的一部分时</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="75.226" x="601.085" y="780.1276"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="601.085" x2="676.311" y1="801.1909" y2="801.1909"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="45.5696" x="615.9132" y="795.3492">pushAns2</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="60.7595" x="604.7016" y="814.7547">查表得到二元组</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="84.6293" x="596.3834" y="846.6737"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="596.3834" x2="681.0127" y1="867.7371" y2="867.7371"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="70.1627" x="603.6166" y="861.8953">clearStrToken2</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="52.0796" x="600" y="881.3009">清空strToken</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="138.8788" x="569.2586" y="913.2198"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="569.2586" x2="708.1374" y1="934.2832" y2="934.2832"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="44.123" x="616.6365" y="928.4415">curState2</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="124.4123" x="572.8752" y="947.847">curState置0，重新开始词法分析</text><rect fill="#FEFECE" filter="url(#f692yl091srn0)" height="40.151" rx="9.0416" ry="9.0416" style="stroke: #A80036; stroke-width: 1.0849909584086799;" width="92.5859" x="592.4051" y="979.7659"></rect><line style="stroke: #A80036; stroke-width: 1.0849909584086799;" x1="592.4051" x2="684.991" y1="1000.8293" y2="1000.8293"></line><text fill="#000000" font-family="sans-serif" font-size="10.1266" lengthAdjust="spacingAndGlyphs" textLength="33.9964" x="621.6998" y="994.9876">getBC2</text><text fill="#000000" font-family="sans-serif" font-size="8.6799" lengthAdjust="spacingAndGlyphs" textLength="78.1193" x="596.0217" y="1014.3931">得到下一个非空字符</text><!--MD5=[d7849ad04dbac0635d924aa5171179f8]
link pushAns2 to clearStrToken2--><path d="M638.698,820.6361 C638.698,827.5887 638.698,835.4903 638.698,842.7381 " fill="none" id="pushAns2->clearStrToken2" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="638.698,846.4603,641.5913,839.9504,638.698,842.8437,635.8047,839.9504,638.698,846.4603" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[8f03413b4212749ec2487086f846b44d]
link clearStrToken2 to curState2--><path d="M638.698,887.1822 C638.698,894.1348 638.698,902.0364 638.698,909.2842 " fill="none" id="clearStrToken2->curState2" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="638.698,913.0064,641.5913,906.4965,638.698,909.3898,635.8047,906.4965,638.698,913.0064" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[3b5088dd999300efc842fa2999980722]
link curState2 to getBC2--><path d="M638.698,953.7283 C638.698,960.6809 638.698,968.5823 638.698,975.8303 " fill="none" id="curState2->getBC2" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="638.698,979.5525,641.5913,973.0426,638.698,975.9359,635.8047,973.0426,638.698,979.5525" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[792d4e6d05715f0630c48d6aac3d86d7]
link *start*while to fileEnd--><path d="M327.4184,597.9233 C330.4014,597.9233 333.3844,597.9233 336.3675,597.9233 " fill="none" id="*start*while->fileEnd" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="340.1461,597.9233,333.6362,595.03,336.5295,597.9233,333.6362,600.8166,340.1461,597.9233" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[3962dcad6baeffde82514dc45e84dd47]
link fileEnd to curState--><path d="M395.2984,618.2039 C395.2984,625.1066 395.2984,633.0227 395.2984,640.5388 " fill="none" id="fileEnd->curState" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="395.2984,644.1902,398.1917,637.6802,395.2984,640.5735,392.4051,637.6802,395.2984,644.1902" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[ddc1c1a80d53bcd5e6a9f6d06adfca46]
link curState to isAcceptingState0--><path d="M314.1729,686.5395 C287.6123,694.2958 259.072,705.7077 236.1664,722.3356 C201.6108,747.4213 173.4987,786.4889 154.1606,818.9591 " fill="none" id="curState->isAcceptingState0" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="152.3161,822.0795,158.1188,817.9468,154.156,818.9658,153.137,815.003,152.3161,822.0795" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[e56c14abf165c65f64bbebb3defd5a16]
link curState to isAcceptingState1--><path d="M395.2984,696.3298 C395.2984,711.0683 395.2984,730.8578 395.2984,751.9204 " fill="none" id="curState->isAcceptingState1" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="395.2984,755.5876,398.1917,749.0777,395.2984,751.971,392.4051,749.0777,395.2984,755.5876" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[6e81912e5ef4c23c3a432e4280a2c3d7]
link curState to isAcceptingState2--><path d="M476.3718,685.2903 C503.2268,692.967 531.9638,704.6466 554.4304,722.3356 C555.6745,723.3149 556.9063,724.316 558.1259,725.3374 " fill="none" id="curState->isAcceptingState2" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="560.949,727.7562,557.8874,721.3236,558.2024,725.4033,554.1228,725.7182,560.949,727.7562" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[9d3eb6c2a62815dbd335c2d96c6b2071]
link *start*work to init--><path d="M287.9689,485.4395 C290.9823,485.4395 293.9957,485.4395 297.009,485.4395 " fill="none" id="*start*work->init" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="300.8253,485.4395,294.3154,482.5462,297.2087,485.4395,294.3154,488.3328,300.8253,485.4395" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[449c6fce42e177580e22ea08b68abfa5]
link init to while--><path d="M387.7034,505.8583 C387.7034,512.0218 387.7034,519.4359 387.7034,527.8178 " fill="none" id="init->while" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="387.7034,531.4684,390.5967,524.9585,387.7034,527.8518,384.8101,524.9585,387.7034,531.4684" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[3a49557cc214808664416704f4135b4e]
link *start to main--><path d="M276.4948,26.0398 C283.5638,26.0398 290.6329,26.0398 297.702,26.0398 " fill="none" id="*start->main" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="301.3982,26.0398,294.8882,23.1465,297.7816,26.0398,294.8882,28.9331,301.3982,26.0398" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[27c49f0de4e668f31c9b0958f548cd16]
link main to initialization--><path d="M395.66,46.4231 C395.66,56.7667 395.66,70.4955 395.66,85.8807 " fill="none" id="main->initialization" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="395.66,89.613,398.5533,83.1031,395.66,85.9964,392.7667,83.1031,395.66,89.613" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[ccab5d4d2ac9c62149b7bc5cc3bdc231]
link initialization to work--><path d="M395.66,391.5009 C395.66,404.2387 395.66,417.3967 395.66,430.8 " fill="none" id="initialization->work" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="395.66,434.5866,398.5533,428.0767,395.66,430.97,392.7667,428.0767,395.66,434.5866" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[00bd53daf0b39b6a88bb2a5c0b9f4cbd]
link work to end--><path d="M395.66,1053.2962 C395.66,1068.8011 395.66,1082.2312 395.66,1092.647 " fill="none" id="work->end" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="395.66,1096.3463,398.5533,1089.8364,395.66,1092.7297,392.7667,1089.8364,395.66,1096.3463" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[1bb2d46491ec20157ee310d1c4a6ef90]
link end to *end--><path d="M433.4821,1116.8174 C440.5823,1116.8174 447.6825,1116.8174 454.7826,1116.8174 " fill="none" id="end->*end" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></path><polygon fill="#A80036" points="458.4955,1116.8174,451.9855,1113.9241,454.8788,1116.8174,451.9855,1119.7107,458.4955,1116.8174" style="stroke: #A80036; stroke-width: 0.7233273056057866;"></polygon><!--MD5=[47e1012edc5e15f8e9f2125f837ba8f9]
@startuml
hide empty description
scale 800 width
[*] -> main
main - -> initialization
initialization - -> work
work - -> end
end: 输出二元组结果

end -> [*]
main: 程序常量、词汇表、助记符等变量的声明定义

state initialization{
    [*] -> clear
    clear - -> reserveWords
    reserveWords -> stateTrans
    stateTrans - -> isAcceptingState
    isAcceptingState -> ans
    ans - -> [*]


    clear: 转换映射表、strToken、strTokenLen等的\n清空初始化

    reserveWords: 构造单词表中预定义单词于编码的映射关系

    stateTrans: + 构造状态转化矩阵
    stateTrans: + -1 表示未定义状态，即出错
    stateTrans: + 根据状态转换图的定义来构造 stateTrans[i, j]

    isAcceptingState: 确定终态，根据定义确定每一个可能的字符ch的\n isAcceptingState[ch]的值：0，1，2

    ans: 清空存放二元组的向量

}

state work{
    [*] -> init
    init: 初始化curState为0，读入一个非空白字符

    init - -> while
    while: 当 stateTrans[curState][ch]定义存在时


    state while{
        [*] -> fileEnd
        fileEnd: 判断是否为处理到文件末

        fileEnd - -> curState
        curState: 根据当前状态和读入字符进行状态转移\ncurState = stateTrans[curState][ch];

        curState - -> isAcceptingState0
        isAcceptingState0: 非终态，将ch中字符拼接到strToken中，\n继续读入字符分析过程
        state isAcceptingState0{
            concat -> getchar
            concat: 拼接ch到strToken
            getchar: 读入下一个字符
        }
        
        curState - -> isAcceptingState1
        isAcceptingState1: 识别到一个单词，\n并且当前读入字符也是单词的一部分
        state isAcceptingState1{
            concat2 -> pushAns1
            pushAns1 - -> clearStrToken
            clearStrToken -> getBC
            getBC - -> curState1

            concat2: 拼接字符
            pushAns1: 查表得到二元组
            clearStrToken: 清空strToken
            getBC: 得到下一个非空字符
            curState1: curState置0，重新开始词法分析
        }

        curState - -> isAcceptingState2
        isAcceptingState2: 识别到一个单词，并且当前\n读入字符不是单词的一部分时
        state isAcceptingState2{
            pushAns2 - -> clearStrToken2
            clearStrToken2 - -> curState2
            curState2 - -> getBC2

            pushAns2: 查表得到二元组
            clearStrToken2: 清空strToken
            curState2: curState置0，重新开始词法分析
            getBC2: 得到下一个非空字符
        }
    }
}
@enduml

PlantUML version 1.2019.11(Sun Sep 22 18:02:15 CST 2019)
(MIT source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_211-b12
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>